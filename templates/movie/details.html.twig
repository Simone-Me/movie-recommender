{% extends 'base.html.twig' %}

{% block title %}{{ movie.title }}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style>
        .movie-backdrop {
            width: 100%;
            height: 400px;
            object-fit: cover;
            margin-bottom: 20px;
        }
        .movie-poster {
            width: 100%;
            max-width: 300px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .movie-details {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .genre-badge {
            background: #007bff;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            margin-right: 5px;
            margin-bottom: 5px;
            display: inline-block;
        }
    </style>
{% endblock %}

{% block body %}
    <div class="container">
        {% if movie.backdrop_path %}
            <img src="https://image.tmdb.org/t/p/original{{ movie.backdrop_path }}" alt="{{ movie.title }}" class="movie-backdrop">
        {% endif %}

        <div class="row">
            <div class="col-md-4">
                {% if movie.poster_path %}
                    <img src="https://image.tmdb.org/t/p/w500{{ movie.poster_path }}" alt="{{ movie.title }}" class="movie-poster">
                {% endif %}
            </div>
            <div class="col-md-8">
                <h1>{{ movie.title }}</h1>
                {% if movie.tagline %}
                    <h4 class="text-muted">{{ movie.tagline }}</h4>
                {% endif %}

                <div class="movie-details">
                    <p><strong>Date de sortie:</strong> {{ movie.release_date|date('d/m/Y') }}</p>
                    <p><strong>Note:</strong> ⭐ {{ movie.vote_average|number_format(1) }}/10 ({{ movie.vote_count }} votes)</p>
                    <p><strong>Durée:</strong> {{ movie.runtime }} minutes</p>
                    
                    <div class="mb-3">
                        <strong>Genres:</strong><br>
                        {% for genre in movie.genres %}
                            <span class="genre-badge">{{ genre.name }}</span>
                        {% endfor %}
                    </div>

                    {% if movie.overview %}
                        <h4>Synopsis</h4>
                        <p>{{ movie.overview }}</p>
                    {% endif %}

                    {% if movie.production_companies %}
                        <h4>Sociétés de production</h4>
                        <ul>
                            {% for company in movie.production_companies %}
                                <li>{{ company.name }}</li>
                            {% endfor %}
                        </ul>
                    {% endif %}
                </div>

                <div class="mt-4">
                    <a href="{{ path('app_home') }}" class="btn btn-primary">Retour à la liste</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
